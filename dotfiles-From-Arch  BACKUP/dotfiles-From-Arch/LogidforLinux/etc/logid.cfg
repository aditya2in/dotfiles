devices: ({
  name: "Wireless Mouse MX Master 2S"; # Replace with the actual sudo logid output for MX Master 2S if different
  smartshift: { on: true; threshold: 20; };
  dpi: 1600;

  buttons: (
    // Forward button (Remains unchanged)
    {
      cid: 0x56; # Verify this CID for MX Master 2S
      action = {
        type: "Gestures";
        gestures: (
          {
            direction: "None";
            mode: "OnRelease";
            action = {
              type: "Keypress";
              keys: ["KEY_LEFTCTRL", "KEY_V"]; // Paste command (Remains)
            }
          }
          // Removed: Up, Down, Right, Left gestures from here
        );
      };
    },
    // Back button (Remains unchanged)
    {
      cid: 0x53; # Verify this CID for MX Master 2S
      action = {
        type: "Gestures";
        gestures: (
          {
            direction: "None";
            mode: "OnRelease";
            action = {
              type: "Keypress";
              keys: ["KEY_LEFTCTRL", "KEY_C"]; // Copy command
            }
          }
        );
      };
    },
    // Gesture button (hold and move) - MODIFIED
    {
      cid: 0xc3; # Verify this CID for MX Master 2S
      action = {
        type: "Gestures";
        gestures: (
          {
            direction: "None";
            mode: "OnRelease";
            action = {
              type: "Keypress";
              keys: ["KEY_LEFTALT", "KEY_LEFT"]; // Alt+Left (Go Back) (Remains)
            }
          }
          // Removed: Right, Left, Up, Down gestures from here
        );
      };
    },

    // Top button (often the scroll wheel mode shift button) (Remains unchanged)
    {
      cid: 0xc4; # Verify this CID for MX Master 2S
      action = {
        type: "Gestures";
        gestures: (
          {
            direction: "None";
            mode: "OnRelease";
            action = {
              type: "Keypress";
              keys: ["KEY_LEFTCTRL", "KEY_W"]; // Control+W (Remains)
            }
          }
          // Removed: Up and Down DPI gestures from here
        );
      };
    }
  );
});
